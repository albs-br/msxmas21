Fonts:
Tile_Char_A:                     ;
	db  00111100 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  01111110 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  00000000 b 		; 

; Tile_Char_B_Number:	equ ?	; NOT same as ascii code for this char
Tile_Char_B:                     ;
	db  01111100 b 		; 
	db  00110110 b 		; 
	db  00110110 b 		; 
	db  00111100 b 		; 
	db  00110110 b 		; 
	db  00110110 b 		; 
	db  01111100 b 		; 
	db  00000000 b 		; 

; Tile_Char_C_Number:	equ ?	; NOT same as ascii code for this char
Tile_Char_C:                     ;
	db  00111100 b 		; 
	db  01100110 b 		; 
	db  01100000 b 		; 
	db  01100000 b 		; 
	db  01100000 b 		; 
	db  01100110 b 		; 
	db  00111100 b 		; 
	db  00000000 b 		; 

; Tile_Char_D_Number:	equ ?	; NOT same as ascii code for this char
Tile_Char_D:                     ;
	db  01111100 b 		; 
	db  00110110 b 		; 
	db  00110110 b 		; 
	db  00110110 b 		; 
	db  00110110 b 		; 
	db  00110110 b 		; 
	db  01111100 b 		; 
	db  00000000 b 		; 

; Tile_Char_E_Number:	equ ?	; NOT same as ascii code for this char
Tile_Char_E:                     ;
	db  01111110 b 		; 
	db  00110010 b 		; 
	db  00110000 b 		; 
	db  00111100 b 		; 
	db  00110000 b 		; 
	db  00110010 b 		; 
	db  01111110 b 		; 
	db  00000000 b 		; 

; Tile_Char_F_Number:	equ ?	; NOT same as ascii code for this char
Tile_Char_F:                     ;
	db  01111110 b 		; 
	db  00110010 b 		; 
	db  00110000 b 		; 
	db  00111100 b 		; 
	db  00110000 b 		; 
	db  00110000 b 		; 
	db  01111000 b 		; 
	db  00000000 b 		; 

; Tile_Char_G_Number:	equ ?	; NOT same as ascii code for this char
Tile_Char_G:                     ;
	db  00111100 b 		; 
	db  01100110 b 		; 
	db  01100000 b 		; 
	db  01101110 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  00111100 b 		; 
	db  00000000 b 		; 

; Tile_Char_H_Number:	equ ?	; NOT same as ascii code for this char
Tile_Char_H:                     ;
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  01111110 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  00000000 b 		; 

; Tile_Char_I_Number:	equ ?	; NOT same as ascii code for this char
Tile_Char_I:                     ;
	db  01111110 b 		; 
	db  00011000 b 		; 
	db  00011000 b 		; 
	db  00011000 b 		; 
	db  00011000 b 		; 
	db  00011000 b 		; 
	db  01111110 b 		; 
	db  00000000 b 		; 

; Tile_Char_J_Number:	equ ?	; NOT same as ascii code for this char
Tile_Char_J:                     ;
	db  00011110 b 		; 
	db  00001100 b 		; 
	db  00001100 b 		; 
	db  00001100 b 		; 
	db  01101100 b 		; 
	db  01101100 b 		; 
	db  00111000 b 		; 
	db  00000000 b 		; 

; Tile_Char_K_Number:	equ ?	; NOT same as ascii code for this char
Tile_Char_K:                     ;
	db  01100010 b 		; 
	db  01100100 b 		; 
	db  01101000 b 		; 
	db  01110000 b 		; 
	db  01101000 b 		; 
	db  01100100 b 		; 
	db  01100010 b 		; 
	db  00000000 b 		; 

; Tile_Char_L_Number:	equ ?	; NOT same as ascii code for this char
Tile_Char_L:                     ;
	db  01111000 b 		; 
	db  00110000 b 		; 
	db  00110000 b 		; 
	db  00110000 b 		; 
	db  00110000 b 		; 
	db  00110010 b 		; 
	db  01111110 b 		; 
	db  00000000 b 		; 

; Tile_Char_M_Number:	equ ?	; NOT same as ascii code for this char
Tile_Char_M:                     ;
	db  01100010 b 		; 
	db  01110110 b 		; 
	db  01101010 b 		; 
	db  01100010 b 		; 
	db  01100010 b 		; 
	db  01100010 b 		; 
	db  01100010 b 		; 
	db  00000000 b 		; 

; Tile_Char_N_Number:	equ ?	; NOT same as ascii code for this char
Tile_Char_N:                     ;
	db  01100010 b 		; 
	db  01100010 b 		; 
	db  01110010 b 		; 
	db  01101010 b 		; 
	db  01100110 b 		; 
	db  01100010 b 		; 
	db  01100010 b 		; 
	db  00000000 b 		; 

; Tile_Char_O_Number:	equ ?	; NOT same as ascii code for this char
Tile_Char_O:                     ;
	db  00111100 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  00111100 b 		; 
	db  00000000 b 		; 

; Tile_Char_P_Number:	equ ?	; NOT same as ascii code for this char
Tile_Char_P:                     ;
	db  01111100 b 		; 
	db  00110010 b 		; 
	db  00110010 b 		; 
	db  00111100 b 		; 
	db  00110000 b 		; 
	db  00110000 b 		; 
	db  01111000 b 		; 
	db  00000000 b 		; 

; Tile_Char_Q_Number:	equ ?	; NOT same as ascii code for this char
Tile_Char_Q:                     ;
	db  00111100 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  01101110 b 		; 
	db  00111100 b 		; 
	db  00000110 b 		; 

; Tile_Char_R_Number:	equ ?	; NOT same as ascii code for this char
Tile_Char_R:                     ;
	db  01111100 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  01111100 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  00000000 b 		; 

; Tile_Char_S_Number:	equ ?	; NOT same as ascii code for this char
Tile_Char_S:                     ;
	db  00111110 b 		; 
	db  01100000 b 		; 
	db  01100000 b 		; 
	db  00111100 b 		; 
	db  00000110 b 		; 
	db  00000110 b 		; 
	db  01111100 b 		; 
	db  00000000 b 		; 

; Tile_Char_T_Number:	equ ?	; NOT same as ascii code for this char
Tile_Char_T:                     ;
	db  01111110 b 		; 
	db  00011000 b 		; 
	db  00011000 b 		; 
	db  00011000 b 		; 
	db  00011000 b 		; 
	db  00011000 b 		; 
	db  00011000 b 		; 
	db  00000000 b 		; 

; Tile_Char_U_Number:	equ ?	; NOT same as ascii code for this char
Tile_Char_U:                     ;
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  00111100 b 		; 
	db  00000000 b 		; 

; Tile_Char_V_Number:	equ ?	; NOT same as ascii code for this char
Tile_Char_V:                     ;
	db  01100010 b 		; 
	db  01100010 b 		; 
	db  01100010 b 		; 
	db  00110100 b 		; 
	db  00110100 b 		; 
	db  00011000 b 		; 
	db  00011000 b 		; 
	db  00000000 b 		; 

; Tile_Char_W_Number:	equ ?	; NOT same as ascii code for this char
Tile_Char_W:                     ;
	db  01100010 b 		; 
	db  01100010 b 		; 
	db  01100010 b 		; 
	db  01100010 b 		; 
	db  01101010 b 		; 
	db  01110110 b 		; 
	db  01100010 b 		; 
	db  00000000 b 		; 

; Tile_Char_X_Number:	equ ?	; NOT same as ascii code for this char
Tile_Char_X:                     ;
	db  01100010 b 		; 
	db  01100010 b 		; 
	db  00110100 b 		; 
	db  00011000 b 		; 
	db  00110100 b 		; 
	db  01100010 b 		; 
	db  01100010 b 		; 
	db  00000000 b 		; 

; Tile_Char_Y_Number:	equ ?	; NOT same as ascii code for this char
Tile_Char_Y:                     ;
	db  01100010 b 		; 
	db  01100010 b 		; 
	db  00110100 b 		; 
	db  00011000 b 		; 
	db  00011000 b 		; 
	db  00011000 b 		; 
	db  00011000 b 		; 
	db  00000000 b 		; 

; Tile_Char_Z_Number:		equ ?	; NOT same as ascii code for this char
Tile_Char_Z:                     ;
	db  01111110 b 		; 
	db  00001100 b 		; 
	db  00011000 b 		; 
	db  00110000 b 		; 
	db  01100000 b 		; 
	db  01100000 b 		; 
	db  01111110 b 		; 
	db  00000000 b 		; 

Tile_Char_Dot_Number:	equ 26	; NOT same as ascii code for this char
Tile_Char_Dot:                     ;
	db  00000000 b 		; 
	db  00000000 b 		; 
	db  00000000 b 		; 
	db  00000000 b 		; 
	db  00000000 b 		; 
	db  00000000 b 		; 
	db  00011000 b 		; 
	db  00011000 b 		; 

Tile_Char_0_Number:	equ 27	;
Tile_Char_0:                     ;
	db  00111100 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  00111100 b 		; 
	db  00000000 b 		; 

;Tile_Char_1_Number:	equ ?	;
Tile_Char_1:                     ;
	db  00111000 b 		; 
	db  00011000 b 		; 
	db  00011000 b 		; 
	db  00011000 b 		; 
	db  00011000 b 		; 
	db  00011000 b 		; 
	db  01111110 b 		; 
	db  00000000 b 		; 

;Tile_Char_2_Number:	equ ?	;
Tile_Char_2:                     ;
	db  00111100 b 		; 
	db  01100110 b 		; 
	db  00000110 b 		; 
	db  00111100 b 		; 
	db  01100000 b 		; 
	db  01100000 b 		; 
	db  01111110 b 		; 
	db  00000000 b 		; 

;Tile_Char_3_Number:	equ ?	;
Tile_Char_3:                     ;
	db  01111110 b 		; 
	db  00000100 b 		; 
	db  00001000 b 		; 
	db  00011100 b 		; 
	db  00000110 b 		; 
	db  00000110 b 		; 
	db  01111100 b 		; 
	db  00000000 b 		; 

;Tile_Char_4_Number:	equ ?	;
Tile_Char_4:                     ;
	db  00001100 b 		; 
	db  00011100 b 		; 
	db  00101100 b 		; 
	db  01001100 b 		; 
	db  01111110 b 		; 
	db  00001100 b 		; 
	db  00011110 b 		; 
	db  00000000 b 		; 

; Tile_Char_5_Number:	equ ?	;
Tile_Char_5:                     ;
	db  01111100 b 		; 
	db  01000000 b 		; 
	db  01111100 b 		; 
	db  00000110 b 		; 
	db  00000110 b 		; 
	db  00000110 b 		; 
	db  01111100 b 		; 
	db  00000000 b 		; 

; Tile_Char_6_Number:	equ ?	;
Tile_Char_6:                     ;
	db  00111100 b 		; 
	db  01100000 b 		; 
	db  01111100 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  00111100 b 		; 
	db  00000000 b 		; 

; Tile_Char_7_Number:	equ ?	;
Tile_Char_7:                     ;
	db  01111110 b 		; 
	db  01000110 b 		; 
	db  00001100 b 		; 
	db  00011000 b 		; 
	db  00011000 b 		; 
	db  00011000 b 		; 
	db  00011000 b 		; 
	db  00000000 b 		; 

; Tile_Char_8_Number:	equ ?	;
Tile_Char_8:                     ;
	db  00111100 b 		; 
	db  01100110 b 		; 
	db  00111100 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  00111100 b 		; 
	db  00000000 b 		; 

; Tile_Char_9_Number:	equ ?	;
Tile_Char_9:                     ;
	db  00111100 b 		; 
	db  01100110 b 		; 
	db  01100110 b 		; 
	db  00111110 b 		; 
	db  00000110 b 		; 
	db  00000110 b 		; 
	db  00111100 b 		; 
	db  00000000 b 		; 





; Inputs:
;   HL: Addr of char font
;   IY: VRAM dest addr
DrawChar:

    ld      c, PORT_0
    ld      ixl, 8          ; number of lines of the font
.loopFont:

    push    hl
        ld      a, 0000 0000 b
        
        ; hl = iy
        push    iy
        pop     hl
        
        call    SetVdp_Write
    pop     hl

    ld      a, (hl)
    ld      e, a

    ld      b, 4        ; counter (4 bytes will be written to VRAM)
.loop:


; -------- even bit
    rl      e ; put bit 7 in the carry
    jp      c, .drawPixel_even_1
;.drawPixel_even_0:
    ld      d, 0x10     ; color of pixel for bit 0

    jp      .doBit_odd

.drawPixel_even_1:
    ld      d, 0xf0     ; color of pixel for bit 1

; -------- odd bit
.doBit_odd:
    rl      e ; put bit 7 in the carry
    jp      c, .drawPixel_odd_1
;.drawPixel_odd_0:
    ld      a, 0xf0
    and     d
    or      0x01        ; color of pixel for bit 0
    ld      d, a

    jp      .next

.drawPixel_odd_1:
    ld      a, 0x0f     ; color of pixel for bit 1
    or      d
    ld      d, a

.next:
    out     (c), d
    djnz    .loop

; next line on the screen (SC5)
    ; iy += 128
    push    hl
        push    de
            push    iy  ; hl = iy
            pop     hl
            
            ld      de, 128
            add     hl, de
            
            push     hl  ; iy = hl
            pop     iy
        pop     de
    pop     hl

; next line of font
    inc     hl

    dec     ixl
    jp      nz, .loopFont

    ret

; Inputs:
;   HL: Addr of string (0 terminated)
;   IY: VRAM dest addr
DrawString:

    ld      a, (hl)
    or      a
    ret     z       ; if (char == 0) ret

    cp      65
    jp      nc, .alpha                   ; if(a >= 65) alpha

    cp      48
    jp      nc, .number                  ; if(a >= 48) number

    cp      46
    jp      z, .dot

.print:

    ;a = a * 8
    sla     a   ; shift left A
    sla     a
    sla     a

    ld      b, 0
    ld      c, a

    push    hl
        ld      hl, Fonts
        add     hl, bc

        call    DrawChar
    pop     hl

    inc     hl      ; next char on string

    ; position of next char on screen
    ; iy += n
    push    hl, de
        push    iy  ; hl = iy
        pop     hl
        
        ld      de, -(128 * 8) + 4
        add     hl, de
        
        push    hl  ; iy = hl
        pop     iy
    pop     de, hl

    jp      DrawString	; loop until find byte 0

.alpha:
    sub     65      ; convert from ASCII code
    jp      .print

.number:
    sub     48 - Tile_Char_0_Number     ; convert ASCII code to game's pattern table. eg. 0 = 65 to 58
    jp      .print

.dot:
    ld      a, Tile_Char_Dot_Number
    jp      .print



Site_String:
    db      'ANDREBAPTISTA.COM.BR', 0

Version_String:
    db      'V.1.0.0', 0